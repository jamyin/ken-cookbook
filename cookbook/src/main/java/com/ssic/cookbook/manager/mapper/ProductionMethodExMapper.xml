<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.ssic.cookbook.manager.mapper.ProductionMethodExMapper" >
	   
	   
   <select id="selectByExample"  resultType="com.ssic.cookbook.manager.dto.ProductionMethodDto" parameterType="com.ssic.cookbook.manager.dto.ProductionMethodDto" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Dec 15 14:37:30 CST 2015.
    -->
    select   
      distinct 
      a.id  as id,
      a.img_url as imgUrl,
       a.production_name as productionName,
       a.production_method as productionMethod
   	 from t_cb_production_method  a 
   	 where  stat=1
   	
   	  <if test="ProductionMethodDto.productName !=null and ProductionMethodDto.productName != '' ">
	    and   a.production_name=#{ProductionMethodDto.productName}
	</if> 	 
   	   order by last_update_time  desc
   	   	limit #{ProductionMethodDto.star},#{ProductionMethodDto.end} 
   
  </select>

  
     <select id="findProductionMethodById"  resultType="com.ssic.cookbook.manager.pojo.ProductionMethod" parameterType="com.ssic.cookbook.manager.pojo.ProductionMethod" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify. 
      This element was generated on Tue Dec 15 14:37:30 CST 2015.
    -->
    select       
      a.id  as id,
      a.img_url as imgUrl,
       a.production_name as productionName,
       a.production_method as productionMethod
   	 from t_cb_production_method  a   where  id=#{id}  and stat=1;
   
  </select>
  <update id="deleteByPrimaryKey"  parameterType="com.ssic.cookbook.manager.pojo.ProductionMethod" >
  
  update  t_cb_production_method  as a set stat=0  where   a.id=#{ProductionMethodDto.id}
  
  </update>
  
  
</mapper>